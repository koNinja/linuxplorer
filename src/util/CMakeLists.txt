add_library(util.charset STATIC)
add_library(linuxplorer::util::charset ALIAS util.charset)
set(LINUXPLORER_UTIL_CHARSET_DIR util/charset)
target_sources(util.charset 
	PRIVATE 
	${LINUXPLORER_SOURCE_DIR}/${LINUXPLORER_UTIL_CHARSET_DIR}/multibyte_wide_compat_helper.cpp
	PUBLIC
	${LINUXPLORER_INCLUDE_DIR}/${LINUXPLORER_UTIL_CHARSET_DIR}/multibyte_wide_compat_helper.hpp
	${LINUXPLORER_INCLUDE_DIR}/${LINUXPLORER_UTIL_CHARSET_DIR}/case_insensitive_char_traits.hpp
)
install(TARGETS util.charset
    LIBRARY DESTINATION ${CMAKE_INSTALL_LIBDIR}/${LINUXPLORER_UTIL_CHARSET_DIR}
    ARCHIVE DESTINATION ${CMAKE_INSTALL_LIBDIR}/${LINUXPLORER_UTIL_CHARSET_DIR}
    RUNTIME DESTINATION ${CMAKE_INSTALL_BINDIR}
    PUBLIC_HEADER DESTINATION ${CMAKE_INSTALL_INCLUDEDIR}/${LINUXPLORER_UTIL_CHARSET_DIR}
)